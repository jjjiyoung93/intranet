<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="holidayMng">	
	<!-- 휴일정보 조회 -->
	<select id="getHolidayList" resultType="HashMap" parameterType="map" >
		SELECT
		  cal_hol_seq
		  , cal_hol_dt
		  , cal_hol_nm
		FROM std_cal_hol
		ORDER BY cal_hol_dt ASC
	</select>
	<!-- 휴일정보등록 -->
	<insert id="holidayInsert" parameterType="map">
		<selectKey keyProperty="cal_hol_seq" resultType="int" order="BEFORE">
			SELECT 
				NVL(MAX(cal_hol_seq),0)+1
			FROM std_cal_hol 
		</selectKey>
		INSERT INTO std_cal_hol (cal_hol_seq, cal_hol_dt, cal_hol_nm)
		  VALUES (#{cal_hol_seq}, #{cal_hol_dt}, #{cal_hol_nm})
	</insert>
	<!-- 휴일정보 상세정보 -->
	<select id="getHolidayView" resultType="HashMap" parameterType="map">
		SELECT
		  cal_hol_seq
		  , cal_hol_dt
		  , cal_hol_nm
		FROM std_cal_hol
		WHERE cal_hol_seq = #{cal_hol_seq}
	</select>
	<!-- 휴일정보 수정 -->
	<update id="holidayUpdate" parameterType="map">
		UPDATE std_cal_hol SET
			cal_hol_nm = #{cal_hol_nm}
			, cal_hol_dt = #{cal_hol_dt}
		WHERE cal_hol_seq = #{cal_hol_seq}
	</update>
	<!-- 휴일정보 삭제 -->
	<delete id="holidayDelete" parameterType="map">
		DELETE FROM std_cal_hol WHERE cal_hol_seq = #{cal_hol_seq} 
	</delete>
	
</mapper>
